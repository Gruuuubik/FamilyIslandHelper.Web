@using FamilyIslandHelper.Api;
@using System.Collections;
@using FamilyIslandHelper.Api.Models.Abstract;
@using System.Web
@model HomeViewModel

@{
	ViewData["Title"] = "Details Page";
}

<body>
	<form id="mainForm" method="post" action="~/Home/Index">
		<div id="apiVersionSelector">
			<label>API version:</label>
			<label>v1</label>
			@if (Model.ApiVersion == ApiVersion.v1)
			{
				<input id="ApiVersionHome1" name="ApiVersion" type="radio" value="v1" checked="checked">
			}
			else
			{
				<input id="ApiVersionHome1" name="ApiVersion" type="radio" value="v1">
			}
			<label>v2</label>
			@if (Model.ApiVersion == ApiVersion.v2)
			{
				<input id="ApiVersionHome2" name="ApiVersion" type="radio" value="v2" checked="checked">
			}
			else
			{
				<input id="ApiVersionHome2" name="ApiVersion" type="radio" value="v2">
			}
		</div>

		<div id="CommonSettings" class="commonSettings">
			<div class="checkbox-wrapper-14">
				@Html.CheckBoxFor(m => m.ShowListOfComponents, new { @class = "switch" })
				@Html.LabelFor(m => m.ShowListOfComponents)
			</div>
		</div>

		<div class="component">
			<div id="BuildingsImages">
				@foreach (var buildingName in @Model.BuildingsNames)
				{
					var classes = "buildingImageName";
					if (buildingName == @Model.BuildingName)
					{
						classes += " selectedImage";
					}
					<img class="@classes" id="@buildingName" width="60" onclick="setBuildingName(event, 'BuildingName', 'mainForm');" src="/resources/@Model.ApiVersion/@buildingName" alt="@buildingName" title="@buildingName">
				}
				<input type="hidden" name="BuildingName" id="BuildingName" value="@Model.BuildingName" />
			</div>
			<div>
				<label>Produce ratio: </label>@Html.DisplayFor(m => m.BuildingProduceRatio)
			</div>
			<div id="ItemsImages">
				@foreach (var itemName in @Model.Items)
				{
					var classes = "itemNameImage";
					if (itemName == @Model.ItemName)
					{
						classes += " selectedImage";
					}
					<img class="@classes" id="@itemName" width="60" onclick="setItemName(event, 'ItemName', 'mainForm');" src="/resources/@Model.ApiVersion/@Model.BuildingName/@itemName" alt="@itemName" title="@itemName">
				}
				<input type="hidden" name="ItemName" id="ItemName" value="@Model.ItemName" />
			</div>
			<div>
				@Html.LabelFor(m => m.ItemCount, "Item count:")
				<input type="number" class="itemCount" id="ItemCount" name="ItemCount" min="1" max="20" value="@Model.ItemCount" />
			</div>
			<div>
				<label>Total production time:</label>
				<span id="totalTimeInfo">@Model.TotalTimeInfo</span>
			</div>
			<div>
				<textarea id="ItemInfo" name="ItemInfo" class="personal">@Model.ItemInfo</textarea>
			</div>
			@if (Model.ShowListOfComponents)
			{
				<div>
					<label>Components:</label>
					@Html.Raw(HttpUtility.HtmlDecode(@Model.ComponentsTreeHtml))
				</div>
			}
		</div>
	</form>
</body>
